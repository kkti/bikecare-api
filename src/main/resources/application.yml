spring:
  config:
    import: optional:file:./config/application-local.yml

  datasource:
    url: ${BC_DB_URL:jdbc:postgresql://localhost:5432/bikecaredb}
    username: ${BC_DB_USER:bikecare}
    password: ${BC_DB_PASS:bikecare}
    hikari:
      maximum-pool-size: 5

  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: UTC

  flyway:
    enabled: true

  cache:
    type: caffeine

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when_authorized

security:
  jwt:
    secret: ${BC_JWT_SECRET:change-me-please-change-me-please-32b-min}
    expiration: ${BC_JWT_EXPIRATION:43200000}

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173}

strava:
  client-id: ${STRAVA_CLIENT_ID:}
  client-secret: ${STRAVA_CLIENT_SECRET:}
  redirect-uri: ${STRAVA_REDIRECT_URI:http://localhost:8080/api/strava/oauth/callback}

# defaultní prahy pro výpočet opotřebení komponent
bikecare:
  health:
    warnAt: 75
    criticalAt: 95
